"use strict";(self.webpackChunk_frm_in=self.webpackChunk_frm_in||[]).push([[104],{4356:(e,a,n)=>{n.d(a,{Z:()=>s});var t=n(4637);function s(e){var a=e.size,n=void 0===a?14:a,s=e.stroke,l=void 0===s?3:s,i=e.className;return(0,t.jsx)("svg",{className:i,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 30 30",children:(0,t.jsx)("polyline",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:l,points:"26 15.2 4 15.2 12.38 23.69 4 15.2 12.77 6.31"})})}},9872:(e,a,n)=>{n.r(a),n.d(a,{default:()=>m});var t=n(8063),s=n(9496),l=n(5007),i=n(3078),r=n(4054),c=n(4222),d=n(6195),o=n(5723),u=n(4637);const m=function(e){var a,n,m,v=e.formFields,p=e.webHooks,h=e.setWebHooks,f=e.isInfo,x=e.setTab;(0,s.useEffect)((function(){var e=(0,t.Z)({},p);e.body||(e.body={type:"",data:[]},h(e)),x(3)}),[]);var b=function(e,a){var n,s=(0,t.Z)({},p);s.body.data[a]=(0,t.Z)({},s.body.data[a],((n={})[e.target.name]=e.target.value,n)),h(s)};return(0,u.jsxs)("div",{className:"mt-2",children:[(0,u.jsx)(o.Z,{isInfo:f,checked:(null==p||null==(a=p.body)?void 0:a.send_all_data)||!1,onChange:function(e){var a,n,s=(0,t.Z)({},p),l=function(){var e=[];return v.map((function(a){var n=a.name;e.push({key:n,value:"${"+n+"}"})})),e}();e.target.checked?(s.body.send_all_data=!0,s.body.data=l):(null==s||null==(a=s.body)||delete a.data,null==s||null==(n=s.body)||delete n.send_all_data);h((0,t.Z)({},s))},className:"wdt-200 mt-4 mr-2 mb-2",value:"Send All Data",title:(0,c.__)("Send All Data")}),(0,u.jsx)("div",{className:"f-m",children:(0,c.__)("Add Request Payload")}),(0,u.jsxs)("select",{name:"method",onChange:function(e){var a=(0,t.Z)({},p);a.body.type=e.target.value,h(a)},defaultValue:null==p||null==(n=p.body)?void 0:n.type,className:"btcd-paper-inp w-8",disabled:f,children:[(0,u.jsx)("option",{children:"-- Select Content-Type --"}),(0,u.jsx)("option",{value:"application/json",children:"application/json"}),(0,u.jsx)("option",{value:"multipart/form-data",children:"multipart/form-data"}),(0,u.jsx)("option",{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"})]}),(0,u.jsx)("div",{className:"btcd-param-t-wrp mt-1",children:(0,u.jsxs)("div",{className:"btcd-param-t",children:[(0,u.jsxs)("div",{className:"tr",children:[(0,u.jsx)("div",{className:"td",children:(0,c.__)("Key")}),(0,u.jsx)("div",{className:"td",children:(0,c.__)("Value")})]}),null==(m=p.body)||null==(m=m.data)?void 0:m.map((function(e,a){return(0,u.jsxs)("div",{className:"tr",children:[(0,u.jsx)("div",{className:"td",children:(0,u.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(e){return b(e,a)},name:"key",type:"text",value:e.key,disabled:f})}),(0,u.jsx)("div",{className:"td",children:(0,u.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(e){return b(e,a)},name:"value",type:"text",value:e.value,disabled:f})}),!f&&(0,u.jsxs)("div",{className:"flx p-atn",children:[(0,u.jsx)(d.Z,{onClick:function(){return function(e){var a=(0,t.Z)({},p);a.body.data.splice(e,1),h(a)}(a)},icn:!0,children:(0,u.jsx)(r.Z,{size:16})}),(0,u.jsx)(l.Z,{options:v.map((function(e){return{label:e.label,value:"${"+e.name+"}"}})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:function(e){return function(e,a){var n=(0,t.Z)({},p);n.body.data[a]=(0,t.Z)({},n.body.data[a],{value:e}),h(n)}(e,a)},defaultValue:e.value})]})]},"fu-1"+3*a)})),!f&&(0,u.jsx)(d.Z,{onClick:function(){return function(){var e=(0,t.Z)({},p);e.body.data||(e.body.data=[]),e.body.data.push({}),h(e)}()},className:"add-pram",icn:!0,children:(0,u.jsx)(i.Z,{size:"14",className:"icn-rotate-45"})})]})})]})}},3837:(e,a,n)=>{n.r(a),n.d(a,{default:()=>u});var t=n(8063),s=n(9496),l=n(5007),i=n(4222),r=n(3078),c=n(4054),d=n(6195),o=n(4637);const u=function(e){var a,n=e.formFields,u=e.webHooks,m=e.setWebHooks,v=e.isInfo,p=e.setTab;(0,s.useEffect)((function(){p(1)}),[]);var h=function(e){return null==e?void 0:e.match(/(\?|&)([^=]+)=([^&]+|)/gi)},f=function(e,a,n){var s=(0,t.Z)({},u);""!==a?s.url="key"===e?s.url.replace(n,""+n.charAt(0)+a+"="+n.split("=")[1]):s.url.replace(n,n.split("=")[0]+"="+a):null===n.match(/\?/g)?s.url=s.url.replace(n,""):s.url=s.url.replace(n+"&","?"),m(s)};return(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("div",{className:"f-m",children:(0,i.__)("Add Url Parameter: (optional)")}),(0,o.jsx)("div",{className:"btcd-param-t-wrp mt-1",children:(0,o.jsxs)("div",{className:"btcd-param-t",children:[(0,o.jsxs)("div",{className:"tr",children:[(0,o.jsx)("div",{className:"td",children:(0,i.__)("Key")}),(0,o.jsx)("div",{className:"td",children:(0,i.__)("Value")})]}),null!==h(u.url)&&(null==(a=h(u.url))?void 0:a.map((function(e,a){return(0,o.jsxs)("div",{className:"tr",children:[(0,o.jsx)("div",{className:"td",children:(0,o.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(a){return f("key",a.target.value,e)},type:"text",value:e.split("=")[0].substr(1),disabled:v})}),(0,o.jsx)("div",{className:"td",children:(0,o.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(a){return f("val",a.target.value,e)},type:"text",value:e.split("=")[1],disabled:v})}),!v&&(0,o.jsxs)("div",{className:"flx p-atn",children:[(0,o.jsx)(d.Z,{onClick:function(){return function(e){var a=(0,t.Z)({},u);a.url=a.url.replace(e,""),m(a)}(e)},icn:!0,children:(0,o.jsx)(c.Z,{size:16})}),(0,o.jsx)(l.Z,{options:n.map((function(e){return{label:e.label,value:"${"+e.name+"}"}})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:function(a){return function(e,a){var n=(0,t.Z)({},u),s=a.split("=");s[1]=e,n.url=n.url.replace(a,s.join("=")),m(n)}(a,e)},defaultValue:e.split("=")[1]})]})]},"fu-1"+3*a)}))),!v&&(0,o.jsx)(d.Z,{onClick:function(){return function(){var e=(0,t.Z)({},u);null!==e.url.match(/\?/g)?e.url+="&key=value":e.url+="?key=value",m(e)}()},className:"add-pram",icn:!0,children:(0,o.jsx)(r.Z,{size:"14",className:"icn-rotate-45"})})]})})]})}},4544:(e,a,n)=>{n.r(a),n.d(a,{default:()=>u});var t=n(8063),s=n(9496),l=n(5007),i=n(3078),r=n(4054),c=n(4222),d=n(6195),o=n(4637);const u=function(e){var a,n=e.formFields,u=e.webHooks,m=e.setWebHooks,v=e.isInfo,p=e.setTab;(0,s.useEffect)((function(){p(2)}),[]);var h=function(e,a){var n,s=(0,t.Z)({},u);s.headers[a]=(0,t.Z)({},s.headers[a],((n={})[e.target.name]=e.target.value,n)),m(s)};return(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsx)("div",{className:"f-m",children:(0,c.__)("Add Request Headers: (optional)")}),(0,o.jsx)("div",{className:"btcd-param-t-wrp mt-1",children:(0,o.jsxs)("div",{className:"btcd-param-t",children:[(0,o.jsxs)("div",{className:"tr",children:[(0,o.jsx)("div",{className:"td",children:(0,c.__)("Key")}),(0,o.jsx)("div",{className:"td",children:(0,c.__)("Value")})]}),null==(a=u.headers)?void 0:a.map((function(e,a){return(0,o.jsxs)("div",{className:"tr",children:[(0,o.jsx)("div",{className:"td",children:(0,o.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(e){return h(e,a)},name:"key",type:"text",value:e.key,disabled:v})}),(0,o.jsx)("div",{className:"td",children:(0,o.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(e){return h(e,a)},name:"value",type:"text",value:e.value,disabled:v})}),!v&&(0,o.jsxs)("div",{className:"flx p-atn",children:[(0,o.jsx)(d.Z,{onClick:function(){return function(e){var a=(0,t.Z)({},u);a.headers.splice(e,1),m(a)}(a)},icn:!0,children:(0,o.jsx)(r.Z,{size:16})}),(0,o.jsx)(l.Z,{options:n.map((function(e){return{label:e.label,value:"${"+e.name+"}"}})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:function(e){return function(e,a){var n=(0,t.Z)({},u);n.headers[a]=(0,t.Z)({},n.headers[a],{value:e}),m(n)}(e,a)},defaultValue:e.value})]})]},"fu-1"+3*a)})),!v&&(0,o.jsx)(d.Z,{onClick:function(){return function(){var e=(0,t.Z)({},u);e.headers||(e.headers=[]),e.headers.push({}),m(e)}()},className:"add-pram",icn:!0,children:(0,o.jsx)(i.Z,{size:"14",className:"icn-rotate-45"})})]})})]})}},6104:(e,a,n)=>{n.r(a),n.d(a,{default:()=>k});var t=n(8063),s=n(9496);const l=function(e){var a=(0,s.useRef)();return a.current||(a.current={v:e()}),a.current.v},i=(0,s.createContext)(),r=(0,s.createContext)(),c=({state:e,children:a})=>{const n=(0,s.useState)(0),t=l((()=>({tabs:0,panels:0}))),c=e||n;return s.createElement(r.Provider,{value:t},s.createElement(i.Provider,{value:c},a))},d=({children:e})=>{const a=(()=>{const[e,a]=(0,s.useContext)(i),n=(0,s.useContext)(r),t=l((()=>{const e=n.tabs;return n.tabs+=1,e})),c=l((()=>()=>a(t)));return(0,s.useMemo)((()=>({isActive:e===t,onClick:c})),[e,c,t])})();return"function"===typeof e?e(a):(0,s.isValidElement)(e)?(0,s.cloneElement)(e,a):e},o=({active:e,children:a})=>(()=>{const[e]=(0,s.useContext)(i),a=(0,s.useContext)(r);return l((()=>{const e=a.panels;return a.panels+=1,e}))===e})()||e?a:null;var u=n(4356),m=n(3105),v=n(4222),p=n(6195),h=n(1675),f=n(3837),x=n(4544),b=n(9872),j=n(5723),N=n(9708),_=n(4637);function k(e){var a,n,l=e.formFields,i=e.webHooks,r=e.setWebHooks,k=e.setStep,g=e.setSnackbar,y=e.create,Z=e.isInfo,w=(0,s.useState)(!1),C=w[0],T=w[1],H=(0,s.useState)(1),E=H[0],I=H[1],S=function(e){var a=(0,t.Z)({},i);a[e.target.name]=e.target.value,r((0,t.Z)({},a))};(0,s.useEffect)((function(){if(i&&(null==i||!i.condition)){var e=(0,t.Z)({},i);e.condition={action_behavior:"",actions:[{field:"",action:"value"}],logics:[{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}]},r(e)}}),[]);return(0,_.jsxs)("div",{style:(0,t.Z)({},{width:Z&&900}),children:[(0,_.jsx)("div",{className:"flx ",children:(0,_.jsxs)("div",{className:"w-8 mr-2 mt-2 mb-4",children:[(0,_.jsx)("div",{className:"f-m",children:(0,v.__)("Integration name")}),(0,_.jsx)("input",{name:"name",onChange:function(e){return S(e)},className:"btcd-paper-inp mt-1",type:"text",value:i.name,disabled:Z})]})}),(0,_.jsxs)("div",{className:"flx",children:[(0,_.jsxs)("div",{className:"w-5 mr-2 ",children:[(0,_.jsx)("div",{className:"f-m",children:(0,v.__)("Link:")}),(0,_.jsx)("input",{name:"url",onChange:function(e){return S(e)},className:"btcd-paper-inp mt-1",type:"text",value:i.url,disabled:Z})]}),(0,_.jsxs)("div",{className:"w-3",children:[(0,_.jsx)("div",{className:"f-m",children:(0,v.__)("Method:")}),(0,_.jsx)("select",{name:"method",onChange:function(e){return S(e)},defaultValue:i.method,className:"btcd-paper-inp mt-1",disabled:Z,children:["GET","POST","PUT","PATCH","OPTION","DELETE","TRACE","CONNECT"].map((function(e,a){return(0,_.jsx)("option",{value:e,children:e},"method-"+2*a)}))})]})]}),(null==i?void 0:i.apiConsole)&&(0,_.jsxs)("small",{className:"d-blk mt-2",children:[(0,v.__)("To got Webhook , Please Visit")," ",(0,_.jsx)("a",{className:"btcd-link",href:i.apiConsole,target:"_blank",rel:"noreferrer",children:(0,v.__)(i.type+" Dashboard")})]}),!Z&&(0,_.jsxs)(p.Z,{onClick:function(){return e=i,T(!0),void(0,m.Z)({hookDetails:e},"test_webhook").then((function(e){if(e&&e.success)g({show:!0,msg:""+e.data}),T(!1);else if(e&&e.data){var a="string"===typeof e.data?e.data:"Unknown error";g({show:!0,msg:a+". "+(0,v.__)("please try again")}),T(!1)}else g({show:!0,msg:(0,v.__)("Webhook tests failed. please try again")}),T(!1)}));var e},className:"btn btcd-btn-o-blue",children:[(0,v.__)("Test Webhook"),C&&(0,_.jsx)(h.Z,{size:14,clr:"#022217",className:"ml-2"})]}),(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),(0,_.jsxs)(c,{children:[(0,_.jsxs)("div",{className:"flx mt-2",children:[(0,_.jsx)(d,{children:(0,_.jsx)("button",{className:"btcd-s-tab-link "+(1===E&&"s-t-l-active"),type:"button",children:(0,v.__)("Params")})}),(0,_.jsx)(d,{children:(0,_.jsx)("button",{className:"btcd-s-tab-link "+(2===E&&"s-t-l-active"),type:"button",children:(0,v.__)("Headers")})}),(0,_.jsx)(d,{children:(0,_.jsx)("button",{className:"btcd-s-tab-link "+(3===E&&"s-t-l-active"),type:"button",children:(0,v.__)("Body")})})]}),(0,_.jsx)("div",{className:"btcd-hr"}),(0,_.jsx)(o,{children:(0,_.jsx)(f.default,{webHooks:i,setWebHooks:r,formFields:l,isInfo:Z,setTab:I})}),(0,_.jsx)(o,{children:(0,_.jsx)(x.default,{webHooks:i,setWebHooks:r,formFields:l,isInfo:Z,setTab:I})}),(0,_.jsx)(o,{children:(0,_.jsx)(b.default,{webHooks:i,setWebHooks:r,formFields:l,isInfo:Z,setTab:I})})]}),(null==i?void 0:i.condition)&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"flx",children:(0,_.jsx)(j.Z,{onChange:function(e){return function(e,a){var n=(0,t.Z)({},i);n.condition.action_behavior=a?e:"",r(n)}(e.target.value,e.target.checked)},checked:"cond"===(null==i||null==(a=i.condition)?void 0:a.action_behavior),className:"wdt-200 mt-4 mr-2",value:"cond",title:(0,v.__)("Conditional Logics","integration-for-zoho-campaigns-and-cf7"),isInfo:Z})}),(0,_.jsx)("br",{}),"cond"===(null==i||null==(n=i.condition)?void 0:n.action_behavior)&&(0,_.jsx)(N.Z,{formFields:l,dataConf:i,setDataConf:r})]}),y&&(0,_.jsxs)("button",{onClick:function(){return setTimeout((function(){document.getElementById("btcd-settings-wrp").scrollTop=0}),300),void k(2)},className:"btn btcd-btn-lg green sh-sm flx",type:"button",children:[(0,v.__)("Next"),(0,_.jsx)(u.Z,{className:"ml-1 rev-icn"})]})]})}}}]);