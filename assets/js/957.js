"use strict";(self.webpackChunk_frm_in=self.webpackChunk_frm_in||[]).push([[957,801,384],{4054:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(4637);function s(e){var t=e.size,a=void 0===t?15:t,s=e.stroke,i=void 0===s?2:s;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 30 30",children:[(0,n.jsx)("polyline",{className:"svg-icn",points:"4 7.68 6.44 7.68 26 7.68"}),(0,n.jsx)("path",{className:"svg-icn",strokeWidth:i,d:"M23.56,7.68V24.76a2.45,2.45,0,0,1-2.45,2.44H8.89a2.45,2.45,0,0,1-2.45-2.44V7.68m3.67,0V5.24A2.45,2.45,0,0,1,12.56,2.8h4.88a2.45,2.45,0,0,1,2.45,2.44V7.68"}),(0,n.jsx)("line",{className:"svg-icn",strokeWidth:i,x1:"12.56",y1:"13.78",x2:"12.56",y2:"21.1"}),(0,n.jsx)("line",{className:"svg-icn",strokeWidth:i,x1:"17.44",y1:"13.78",x2:"17.44",y2:"21.1"})]})}},6327:(e,t,a)=>{a.r(t),a.d(t,{checkMappedFields:()=>f,handleInput:()=>o,listChange:()=>r,refreshContactFields:()=>c,refreshLists:()=>d,setGrantTokenResponse:()=>l});var n=a(8063),s=a(4222),i=a(3105),l=function(){var e={},t=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");t&&t.forEach((function(t){var a=t.split("=");a[1]&&(e[a[0]]=a[1])})),localStorage.setItem("__zohoCampaigns",JSON.stringify(e)),window.close()},o=function(e,t,a,s,i,l){var o=(0,n.Z)({},a);if(o[e.target.name]=e.target.value,"list"===e.target.name)o=r(o,t,s,i,l);s((0,n.Z)({},o))},r=function(e,t,a,s,i){var l,o=(0,n.Z)({},e);return o.field_map=[{formField:"",zohoFormField:"Contact Email"}],null!=o&&null!=(l=o.default)&&null!=(l=l.fields)&&l[o.list]||c(t,o,a,s,i),o},d=function(e,t,a,l,o){l(!0);var r={formID:e,id:t.id,dataCenter:t.dataCenter,clientId:t.clientId,clientSecret:t.clientSecret,tokenDetails:t.tokenDetails};(0,i.Z)(r,"zcampaigns_refresh_lists").then((function(e){if(e&&e.success){var i=(0,n.Z)({},t);e.data.lists&&(i.default=(0,n.Z)({},i.default,{lists:e.data.lists})),e.data.tokenDetails&&(i.tokenDetails=e.data.tokenDetails),o({show:!0,msg:(0,s.__)("Lists refreshed","integration-for-zoho-campaigns-and-cf7")}),a((0,n.Z)({},i))}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?o({show:!0,msg:""+(0,s.__)("Lists refresh failed Cause:","integration-for-zoho-campaigns-and-cf7")+(e.data.data||e.data)+". "+(0,s.__)("please try again","integration-for-zoho-campaigns-and-cf7")}):o({show:!0,msg:(0,s.__)("Lists refresh failed. please try again","integration-for-zoho-campaigns-and-cf7")});l(!1)})).catch((function(){return l(!1)}))},c=function(e,t,a,l,o){var r=t.list;if(r){l(!0);var d={formID:e,list:r,dataCenter:t.dataCenter,clientId:t.clientId,clientSecret:t.clientSecret,tokenDetails:t.tokenDetails};(0,i.Z)(d,"zcampaigns_refresh_contact_fields").then((function(e){if(e&&e.success){var i=(0,n.Z)({},t);e.data.fields?(i.default.fields||(i.default.fields={}),i.default.fields[r]=e.data,e.data.tokenDetails&&(i.tokenDetails=e.data.tokenDetails),o({show:!0,msg:(0,s.__)("Contact Fields refreshed","integration-for-zoho-campaigns-and-cf7")})):o({show:!0,msg:(0,s.__)("Zoho didn't provide fields names for this list","integration-for-zoho-campaigns-and-cf7")}),e.data.tokenDetails&&(i.tokenDetails=e.data.tokenDetails),a((0,n.Z)({},i))}else o({show:!0,msg:(0,s.__)("Contact Fields refresh failed. please try again","integration-for-zoho-campaigns-and-cf7")});l(!1)})).catch((function(){return l(!1)}))}},f=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(t){var a;return!t.formField&&t.zohoFormField&&-1!==(null==e||null==(a=e.default)||null==(a=a.fields)||null==(a=a[e.list])?void 0:a.required.indexOf(t.zohoFormField))})):[]).length>0)}},7498:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n=a(4222),s=a(9615),i=a(6327),l=a(4937),o=a(4637);function r(e){var t,a,r=e.formID,d=e.formFields,c=e.handleInput,f=e.campaignsConf,h=e.setCampaignsConf,m=e.isLoading,u=e.setIsLoading,p=e.setSnackbar;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("br",{}),(0,o.jsx)("b",{className:"wdt-100 d-in-b",children:(0,n.__)("List:","integration-for-zoho-campaigns-and-cf7")}),(0,o.jsxs)("select",{onChange:function(e){return c(e)},name:"list",value:f.list,className:"btcd-paper-inp w-7",children:[(0,o.jsx)("option",{value:"",children:(0,n.__)("Select List","integration-for-zoho-campaigns-and-cf7")}),(null==f||null==(t=f.default)?void 0:t.lists)&&Object.values(f.default.lists).map((function(e){return(0,o.jsx)("option",{value:e.listkey,children:e.listname},e.listkey)}))]}),(0,o.jsx)("button",{onClick:function(){return(0,i.refreshLists)(r,f,h,u,p)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,n.__)("Refresh Campaigns Lists","integration-for-zoho-campaigns-and-cf7")+"'"},type:"button",disabled:m,children:"↻"}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),m&&(0,o.jsx)(s.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),f.list&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("b",{className:"wdt-100",children:(0,n.__)("Map Fields","integration-for-zoho-campaigns-and-cf7")}),(0,o.jsx)("button",{onClick:function(){return(0,i.refreshContactFields)(r,f,h,u,p)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,n.__)("Refresh Campaigns Contact Fields","integration-for-zoho-campaigns-and-cf7")+"'"},type:"button",disabled:m,children:"↻"})]}),(0,o.jsx)("div",{className:"btcd-hr mt-1"}),(null==(a=f.default)||null==(a=a.fields)?void 0:a[f.list])&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flx flx-around mt-2 mb-2 fitzocacf-field-map-label",children:[(0,o.jsx)("div",{className:"txt-dp",children:(0,o.jsx)("b",{children:(0,n.__)("Form Fields","integration-for-zoho-campaigns-and-cf7")})}),(0,o.jsx)("div",{className:"txt-dp",children:(0,o.jsx)("b",{children:(0,n.__)("Zoho Fields","integration-for-zoho-campaigns-and-cf7")})})]}),f.field_map.map((function(e,t){return(0,o.jsx)(l.default,{i:t,field:e,campaignsConf:f,formFields:d,setCampaignsConf:h},"campaigns-m-"+(t+9))}))]})]})]})}},2709:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(4637);const s=function(e){var t=e.label,a=e.onChange,s=e.value,i=e.disabled,l=e.type,o=e.textarea,r=e.className;return(0,n.jsxs)("label",{className:"btcd-mt-inp "+r,children:[!o&&(0,n.jsx)("input",{type:void 0===l?"text":l,onChange:a,placeholder:" ",disabled:i,value:s}),o&&(0,n.jsx)("textarea",{type:void 0===l?"text":l,onChange:a,placeholder:" ",disabled:i,value:s}),(0,n.jsx)("span",{children:t})]})}}}]);